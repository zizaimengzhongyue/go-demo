# tiny-url

面试的一道题目，设计并实现一个短网址服务；面试的时候回答一般，有一部分原因是这种题目在面试的时候不容易突出重点，答得比较散乱；这里总结一下

## 关键点

1. 整个服务的流程是怎样的？
a. 服务发送 url 给 tiny-url 服务，tiny-url 服务对原 url 进行编码，返回一个新的 url，并将原 URLl 保存在 redis 里面；该 url 域名为 tiny-url 的域名
b. 用户访问 url 首先请求达到 tiny-url 服务，该服务提取出新的 url 返回给用户并做 302 跳转

2. 怎么保证 url 尽可能短且不会重复？
a. 通过一个自增数字作为新 url 的 key，并将该 key 进行进制压缩，缩短 key 的长度

## 实现

这一版代码简单实现了一个短网址服务，其中 url 信息是在本地通过 sync.Map 保存，自增主键使用的是一个本地变量
